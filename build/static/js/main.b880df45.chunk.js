(this["webpackJsonp2021-fall-frontend"]=this["webpackJsonp2021-fall-frontend"]||[]).push([[0],{70:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a,c,r,i,s,o,b,l,j,u,d,m,O,h,f,p,g=n(0),x=n.n(g),v=n(29),w=n.n(v),S=(n(70),n(12)),N=n(46),T=n.n(N),k=n(11),I=n(59),D=n(4),y=n(6),C=n(103),F=n(7),E=n(64),Y=n(102),R=n(13),z=n(101),P={component:"movie-search-bar-container-react-component"},B=n(3),J=F.b.div(a||(a=Object(y.a)(["\n    background-color: white;\n    padding: 2.5% 4%;\n    box-shadow: 0px 1px 16px rgba(0, 0, 0, 0.1);\n"]))),L=function(e){var t=e.children,n=e.className;return Object(B.jsx)(J,{"data-testid":P.component,className:n,children:t})},M=[{value:"test1",label:"Test 1"},{value:"test2",label:"Test 2"},{value:"test3",label:"Test 3"},{value:"test4",label:"Test 4"}],q=Object(F.b)(L)(c||(c=Object(y.a)(["\n    width: 100%;\n"]))),A=function(e){var t=e.generateSearchResults,n=e.className,a=Object(g.useState)(""),c=Object(D.a)(a,2),r=c[0],i=c[1],s=Object(g.useState)([]),o=Object(D.a)(s,2),b=(o[0],o[1],Object(g.useState)(!1)),l=Object(D.a)(b,2),j=l[0],u=(l[1],Object(g.useCallback)((function(e){i(e),t(e)}),[M,j]));return Object(B.jsx)(q,{className:n,children:Object(B.jsx)(Y.a,{label:"Movie Title",onChange:u,value:r,prefix:Object(B.jsx)(R.a,{source:z.a,color:"base"})})})},G=n(104),H=n(65),K={component:"movie-display-react-component"},Q=F.b.div(r||(r=Object(y.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    margin-left: 2rem;\n"]))),U=F.b.div(i||(i=Object(y.a)(["\n    border-radius: 50%;\n    background-color: black;\n    width: 4px;\n    height: 4px;\n    margin: auto 0;\n    margin-right: 2rem;\n"]))),V=F.b.p(s||(s=Object(y.a)(["\n    margin: auto 0;\n    margin-right: 2rem;\n"]))),W=function(e){var t=e.Title,n=e.children,a=e.Year,c=e.className;return Object(B.jsxs)(Q,{"data-testid":K.component,className:c,children:[Object(B.jsx)(U,{}),Object(B.jsx)(V,{children:"".concat(t," (").concat(a,")")}),n]})},X=Object(F.b)(L)(o||(o=Object(y.a)(["\n    background-color: white;\n    padding: 2.5% 4%;\n    height: fit-content;\n"]))),Z=Object(F.b)(W)(b||(b=Object(y.a)(["\n    margin-bottom: 1rem;\n"]))),$=Object(F.b)(L)(l||(l=Object(y.a)([""]))),_=Object(F.b)(W)(j||(j=Object(y.a)(["\n    margin-bottom: 1rem;\n"]))),ee=F.b.div(u||(u=Object(y.a)(["\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  background-color: #f4f6f8;\n"]))),te=F.b.div(d||(d=Object(y.a)(["\n  width: 85rem;\n  margin: auto;\n"]))),ne=F.b.h1(m||(m=Object(y.a)(["\n  font-size: 3rem;\n  margin-bottom: 2rem;\n"]))),ae=F.b.div(O||(O=Object(y.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-top: 2rem;\n"]))),ce=Object(F.a)(h||(h=Object(y.a)(["\n  width: 49%;\n"]))),re=Object(F.b)((function(e){var t=e.className,n=e.nominations,a=e.removeNomination;return Object(B.jsxs)(X,{className:t,children:[Object(B.jsx)(G.a,{children:"Nominations"}),n.map((function(e){return Object(B.jsx)(Z,Object(k.a)(Object(k.a)({},e),{},{children:Object(B.jsx)(H.a,{onClick:function(){return a(e.imdbID)},size:"slim",children:"Remove"})}),e.imdbID)}))]})}))(f||(f=Object(y.a)(["\n  ",";\n"])),ce),ie=Object(F.b)((function(e){var t=e.error,n=e.className,a=e.results,c=e.nominateFilm,r=e.searchString,i=e.loading;return Object(B.jsxs)($,{className:n,children:[Object(B.jsxs)(G.a,{children:['Results for "',r,'"']}),i?"loading":Object(B.jsxs)(B.Fragment,{children:[a&&a.map((function(e){var t=e.imdbID,n=e.Title,a=e.Year,r=e.nominated;return Object(B.jsx)(_,{imdbID:t,Title:n,Year:a,children:Object(B.jsx)(H.a,{onClick:function(){return c(t)},disabled:r,size:"slim",children:"Nominate"})},t)})),t&&t]})]})}))(p||(p=Object(y.a)(["\n  ",";\n"])),ce);function se(e){return new Promise((function(t){setTimeout(t,e)}))}var oe=function(){var e=Object(g.useState)([]),t=Object(D.a)(e,2),n=t[0],a=t[1],c=Object(g.useState)({}),r=Object(D.a)(c,2),i=r[0],s=r[1],o=Object(g.useState)(null),b=Object(D.a)(o,2),l=b[0],j=b[1],u=Object(g.useState)(!1),d=Object(D.a)(u,2),m=d[0],O=d[1];Object(g.useEffect)((function(){null!=l&&((null===i||void 0===i?void 0:i.searchString)==l?O(!1):O(!0))}),[i]);var h=function(){var e=Object(I.a)(T.a.mark((function e(t){var a,c,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://www.omdbapi.com/?s=".concat(t,"&page=1&type=movie&apikey=24e07721"));case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.next=9,se(500);case 9:c.Error?s({results:[],searchString:t,error:c.Error}):(r=c.Search.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{nominated:!!n.find((function(t){return t.imdbID==e.imdbID}))})})),s({results:r,searchString:t,error:""})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),s({results:[],searchString:t,error:"Error"});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsx)(C.a,{i18n:E,children:Object(B.jsx)(ee,{children:Object(B.jsxs)(te,{children:[Object(B.jsx)(ne,{children:"The Shoppies"}),Object(B.jsx)(A,{generateSearchResults:function(e){console.log(e),j(e),O(!0),h(e)}}),Object(B.jsxs)(ae,{children:[Object(B.jsx)(ie,{loading:m,error:null===i||void 0===i?void 0:i.error,searchString:null!=i?i.searchString:"",nominateFilm:function(e){null!=i&&s(Object(k.a)(Object(k.a)({},i),{},{results:i.results.map((function(t){return t.imdbID==e?(a([].concat(Object(S.a)(n),[{Title:t.Title,Year:t.Year,imdbID:t.imdbID}])),Object(k.a)(Object(k.a)({},t),{},{nominated:!0})):t}))}))},results:null!=i?i.results:[]}),Object(B.jsx)(re,{removeNomination:function(e){a(n.filter((function(t){return!(t.imdbID==e)}))),null!=i&&s(Object(k.a)(Object(k.a)({},i),{},{results:i.results.map((function(t){return Object(k.a)(Object(k.a)({},t),{},{nominated:t.imdbID!=e&&t.nominated})}))}))},nominations:n})]})]})})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};n(96);w.a.render(Object(B.jsx)(x.a.StrictMode,{children:Object(B.jsx)(oe,{})}),document.getElementById("root")),be()}},[[97,1,2]]]);
//# sourceMappingURL=main.b880df45.chunk.js.map